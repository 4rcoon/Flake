# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4

# Your preferred terminal emulator
set $term alacritty
# Your preferred application launcher
set $menu "rofi -show run -show-icons"

#
# Visuals
#

  output * bg /home/nils.desbonnet/tempwallpaper.jpg fill

  # Gaps
  default_border pixel 2
  gaps inner 10

  # Rounded corners
  corner_radius 18

  # Opacity
  # for_window [app_id="Alacritty*"] opacity 0.9

  # Blur
  blur enable
  blur_xray disable
  blur_passes 1
  blur_radius 0
  blur_noise 0.0
  blur_brightness 1.0
  blur_contrast 1.0
  blur_saturation 1.0

### Idle configuration
#
exec swayidle -w \
	timeout 300 'swaylock -f -c 000000' \
	timeout 900 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
	before-sleep 'swaylock -f -c 000000'

# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 600 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

### Key bindings
#
# Basics:
#
    # Start a terminal
    bindsym $mod+Return exec $term

    # Kill focused window
    bindsym $mod+Shift+q kill

    # Start your launcher
    bindsym $mod+d exec $menu

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    # Despite the name, also works for non-floating windows.
    # Change normal to inverse to use left mouse button for resizing and right
    # mouse button for dragging.
    floating_modifier $mod normal

    # Reload the configuration file
    bindsym $mod+Shift+c reload; 
    #exec swaynag -t warning -m 'Reloaded Configuration'

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

    # Lock
    bindsym $mod+l exec 'swaylock -f -c 000000'
    bindsym $mod+semicolon exec 'swaylock -f -c 00000'

#
# Moving around:
#
    # Move your focus around
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right
#
# Workspaces:
#
    
    
    # Note: workspaces can have any name you want, not just numbers.
    # We just use 1-10 as the default.
#
# Layout stuff:
#
    # You can "split" the current object of your focus with
    # $mod+b or $mod+v, for horizontal and vertical splits
    # respectively.
    # bindsym $mod+b splith
    # bindsym $mod+v splitv

    # Switch the current container between different layout styles
    # bindsym $mod+s layout stacking
    # bindsym $mod+w layout tabbed
    # bindsym $mod+e layout toggle split

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Toggle the current focus between tiling and floating mode
    #bindsym $mod+Shift+space floating toggle

    # Swap focus between the tiling area and the floating area
    # bindsym $mod+space focus mode_toggle

    # Move focus to the parent container
    # bindsym $mod+a focus parent

#
# Resizing containers:
#
    mode "resize" {
        # left will shrink the containers width
        # right will grow the containers width
        # up will shrink the containers height
        # down will grow the containers height
        bindsym Left resize shrink width 10ppt
        bindsym Down resize grow height 10ppt
        bindsym Up resize shrink height 10ppt
        bindsym Right resize grow width 10ppt

        # Return to default mode
        bindsym Return mode "default"
        bindsym Escape mode "default"
    }
    bindsym $mod+r mode "resize"

#
# Keyboard
#
    # Include selected layout by default
    # This is mandatory for the keyboard switching behavior
    include ~/.config/sway/layout_manager/layout_selected.conf

    # Switch keyboard + shortcuts
    bindsym Control+Shift+Space exec ~/.config/sway/layout_manager/switch_layout.sh 

    # Language par d√©faut
    input * {
        xkb_layout "fr"
    }


#
# Utilities:
#
    # Special keys to adjust volume via PulseAudio
    bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
    # Special keys to adjust brightness via brightnessctl
    bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+
    # Special key to take a screenshot with grim
    bindsym Print exec grim
    # Test
    include ~/swaytest.conf
#
# Status Bar:
#
    # Read `man 5 sway-bar` for more information about this section.
    bar {
        swaybar_command waybar
    }

#
# Inputs Configuration:
#
    # Touchpad
    input "type:touchpad" {
        dwt enabled
        tap enabled
        natural_scroll enabled
        middle_emulation enabled
    }
include @sysconfdir@/sway/config.d/*
# You can get the names of your inputs by running: swaymsg -t get_inputs
# Read `man 5 sway-input` for more information about this section.
